# é‡åŒ–å¼•æ“æ¨¡å—æ¸…ç†æŠ¥å‘Š

> **æ¸…ç†æ—¶é—´**: 2026-01-20
> **ç›®çš„**: åˆ é™¤é‡æ„åçš„æ®‹ç•™æ–‡ä»¶ï¼Œä¿æŒä»£ç åº“æ•´æ´

---

## ğŸ“‹ æ¸…ç†æ¸…å•

### âœ… å·²åˆ é™¤çš„æ–‡ä»¶/ç›®å½•

#### 1. features/ ç›®å½•ï¼ˆæ—§å› å­è®¡ç®—æ¨¡å—ï¼‰
**åˆ é™¤åŸå› **: å·²è¢«æ–°çš„ calculators/ æ¨¡å—å–ä»£

**åˆ é™¤çš„æ–‡ä»¶**:
- `features/calc_indicators.py` - ä¸ªè‚¡RPSè®¡ç®—å™¨ï¼ˆå·²å¤‡ä»½åˆ° backup/legacy_calculators/ï¼‰
- `features/calc_sector_rps.py` - æ¿å—RPSè®¡ç®—å™¨ï¼ˆå·²å¤‡ä»½åˆ° backup/legacy_calculators/ï¼‰
- `features/calc_rps.py` - RPSè®¡ç®—å·¥å…·ï¼ˆå·²å¤‡ä»½åˆ° backup/legacy_calculators/ï¼‰
- `features/backup/` - æ—§çš„å¤‡ä»½ç›®å½•ï¼ˆåŒ…å«copyæ–‡ä»¶ï¼‰
- `features/__init__.py`

#### 2. config.pyï¼ˆæ—§é…ç½®æ–‡ä»¶ï¼‰
**åˆ é™¤åŸå› **: å·²è¢«æ–°çš„ config/ æ¨¡å—å–ä»£

**å¤‡ä»½ä½ç½®**: `backup/legacy_runner/config_v2.py`

**è¯´æ˜**: æ­¤æ–‡ä»¶åŒ…å«æ—§çš„ç­–ç•¥é…ç½®å’Œè¿è¡Œé€»è¾‘ï¼Œå·²è¢«æ–°çš„æ¶æ„å–ä»£

#### 3. runner.py å’Œ runner/ ç›®å½•ï¼ˆæ—§è¿è¡Œå™¨ï¼‰
**åˆ é™¤åŸå› **: å·²è¢«æ–°çš„æ¶æ„å–ä»£

**åˆ é™¤çš„æ–‡ä»¶**:
- `runner.py` - æ—§çš„è¿è¡Œå™¨ï¼ˆå·²å¤‡ä»½åˆ° backup/legacy_runner/ï¼‰
- `runner/` - ç©ºç›®å½•

#### 4. ç©ºç›®å½•
**åˆ é™¤åŸå› **: ç©ºç›®å½•ï¼Œæ— å®é™…å†…å®¹

**åˆ é™¤çš„ç›®å½•**:
- `scripts/` - ç©ºç›®å½•
- `utils/` - ç©ºç›®å½•

#### 5. core/backup/ï¼ˆå¤‡ä»½ç›®å½•ï¼‰
**åˆ é™¤åŸå› **: ä¸´æ—¶å¤‡ä»½ç›®å½•ï¼Œå†…å®¹ä¸º copy æ–‡ä»¶

**åˆ é™¤çš„æ–‡ä»¶**:
- `core/backup/tdx_lib copy.py`

**è¯´æ˜**: `core/tdx_lib.py` ä»åœ¨ä½¿ç”¨ä¸­ï¼ˆè¢« strategies/mrgc_strategy.py å¼•ç”¨ï¼‰ï¼Œä¿ç•™ä¸»æ–‡ä»¶

#### 6. strategies/backup/ï¼ˆå¤‡ä»½ç›®å½•ï¼‰
**åˆ é™¤åŸå› **: ä¸´æ—¶å¤‡ä»½ç›®å½•ï¼Œå†…å®¹ä¸ºæ—§ç‰ˆæœ¬ copy æ–‡ä»¶

**åˆ é™¤çš„æ–‡ä»¶**:
- `strategies/backup/mrgc_strategy copy.py` - æ—§ç‰ˆæœ¬ç­–ç•¥

**å¤‡ä»½ä½ç½®**: `backup/legacy_strategies_mrgc_strategy_old.py`

**è¯´æ˜**: å½“å‰çš„ mrgc_strategy.py å·²é‡æ„ä¸ºç»§æ‰¿ BaseStrategy çš„æ–°ç‰ˆæœ¬

---

## ğŸ“ æœ€ç»ˆç›®å½•ç»“æ„

```
backend/quant_engine/
â”œâ”€â”€ __init__.py
â”‚
â”œâ”€â”€ backup/                              # å½’æ¡£ç›®å½• â­
â”‚   â”œâ”€â”€ README.md                        # å½’æ¡£è¯´æ˜
â”‚   â”œâ”€â”€ legacy_calculators/              # æ—§è®¡ç®—å™¨
â”‚   â”‚   â”œâ”€â”€ calc_indicators.py
â”‚   â”‚   â”œâ”€â”€ calc_sector_rps.py
â”‚   â”‚   â””â”€â”€ calc_rps.py                  # æ–°å¢å¤‡ä»½
â”‚   â”œâ”€â”€ legacy_runner/                   # æ—§è¿è¡Œå™¨
â”‚   â”‚   â”œâ”€â”€ config.py
â”‚   â”‚   â”œâ”€â”€ config_v2.py                 # æ–°å¢å¤‡ä»½
â”‚   â”‚   â””â”€â”€ runner.py
â”‚   â””â”€â”€ legacy_strategies_mrgc_strategy_old.py  # æ–°å¢å¤‡ä»½
â”‚
â”œâ”€â”€ calculators/                         # æ–°æ¶æ„ï¼šè®¡ç®—å™¨ â­
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ stock_rps_calculator.py
â”‚   â”œâ”€â”€ sector_rps_calculator.py
â”‚   â””â”€â”€ etf_rps_calculator.py
â”‚
â”œâ”€â”€ common/                              # æ–°æ¶æ„ï¼šå…¬å…±å·¥å…· â­
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ exception_utils.py
â”‚   â”œâ”€â”€ logger_utils.py
â”‚   â””â”€â”€ path_utils.py
â”‚
â”œâ”€â”€ config/                              # æ–°æ¶æ„ï¼šé…ç½® â­
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ calculator_config.py
â”‚
â”œâ”€â”€ core/                                # æ ¸å¿ƒæ¡†æ¶ â­
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ base_feature_calculator.py
â”‚   â””â”€â”€ tdx_lib.py                       # ä¿ç•™ï¼šä»åœ¨ä½¿ç”¨
â”‚
â”œâ”€â”€ pool/                                # è‚¡ç¥¨æ± ç»´æŠ¤
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ maintain_pool.py
â”‚
â””â”€â”€ strategies/                          # ç­–ç•¥ç³»ç»Ÿ
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ base_strategy.py
    â”œâ”€â”€ mrgc_strategy.py
    â””â”€â”€ select_resonance.py
```

---

## ğŸ“Š ç»Ÿè®¡æ•°æ®

### åˆ é™¤ç»Ÿè®¡
- **åˆ é™¤ç›®å½•**: 7ä¸ª
- **åˆ é™¤æ–‡ä»¶**: 10ä¸ª
- **æ–°å¢å¤‡ä»½**: 3ä¸ª

### ä¿ç•™ç»Ÿè®¡
- **æ´»è·ƒæ–‡ä»¶**: 21ä¸ª
- **å½’æ¡£æ–‡ä»¶**: 8ä¸ª

---

## âœ… éªŒè¯æ¸…å•

- [x] æ‰€æœ‰æ—§æ–‡ä»¶å·²å¤‡ä»½åˆ° backup/ ç›®å½•
- [x] æ‰€æœ‰ç©ºç›®å½•å·²åˆ é™¤
- [x] æ‰€æœ‰ä¸´æ—¶ copy æ–‡ä»¶å·²æ¸…ç†
- [x] æ ¸å¿ƒåŠŸèƒ½æ–‡ä»¶ï¼ˆtdx_lib.pyï¼‰å·²ç¡®è®¤ä¿ç•™
- [x] æ–°æ¶æ„æ–‡ä»¶å®Œæ•´æ— ç¼ºå¤±
- [x] ä»£ç åº“ç»“æ„æ¸…æ™°æ•´æ´

---

## ğŸ¯ æ¸…ç†æ•ˆæœ

### ä»£ç åº“æ•´æ´åº¦
- âœ… ç§»é™¤äº†æ‰€æœ‰é‡æ„åçš„æ®‹ç•™æ–‡ä»¶
- âœ… ç»Ÿä¸€äº†ç›®å½•ç»“æ„
- âœ… é›†ä¸­äº†å¤‡ä»½æ–‡ä»¶
- âœ… æ¶ˆé™¤äº†ç©ºç›®å½•å’Œä¸´æ—¶æ–‡ä»¶

### å¯ç»´æŠ¤æ€§
- âœ… ç›®å½•ç»“æ„æ¸…æ™°ï¼Œæ˜“äºç†è§£
- âœ… æ–°æ—§ä»£ç åˆ†ç¦»æ˜ç¡®
- âœ… ä¾¿äºåç»­ç»´æŠ¤å’Œæ‰©å±•

---

## ğŸ“ æ³¨æ„äº‹é¡¹

### ä»åœ¨ä½¿ç”¨çš„æ–‡ä»¶
- `core/tdx_lib.py` - é€šè¾¾ä¿¡å…¬å¼åº“ï¼Œè¢« `strategies/mrgc_strategy.py` ä½¿ç”¨
  - ä¸è¦åˆ é™¤æ­¤æ–‡ä»¶
  - å¦‚éœ€é‡æ„ï¼Œå…ˆåˆ›å»ºæ–°å®ç°å†æ›¿æ¢

### å½’æ¡£æ–‡ä»¶
- `backup/` ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶éƒ½æ˜¯å†å²ç‰ˆæœ¬
- ä»…ç”¨äºå‚è€ƒå’Œå›æ»š
- ä¸å½±å“å½“å‰ç³»ç»Ÿè¿è¡Œ

---

## ğŸš€ åç»­å»ºè®®

### 1. è€ƒè™‘é‡æ„ strategies/ æ¨¡å—
å‚è€ƒ calculators/ çš„æˆåŠŸç»éªŒï¼Œå°†ç­–ç•¥ç³»ç»Ÿä¹Ÿé‡æ„ä¸ºç»Ÿä¸€åŸºç±»æ¶æ„

### 2. è€ƒè™‘æ•´åˆ pool/ æ¨¡å—
å°†è‚¡ç¥¨æ± ç»´æŠ¤åŠŸèƒ½ä¹Ÿçº³å…¥ç»Ÿä¸€çš„æ¡†æ¶

### 3. å®šæœŸæ¸…ç†
å»ºè®®æ¯å®Œæˆä¸€ä¸ªå¤§ç‰ˆæœ¬é‡æ„åï¼Œæ‰§è¡Œç±»ä¼¼çš„æ¸…ç†æ“ä½œ

---

*æ¸…ç†å®Œæˆæ—¶é—´: 2026-01-20*
*æ‰§è¡Œè€…: Deserce + Claude Sonnet 4.5*
